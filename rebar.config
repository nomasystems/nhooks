{erl_opts, [
    debug_info,
    bin_opt_info,
    {i, "include"}
]}.

{plugins, [
    {erlfmt, {git, "git@github.com:nomasystems/erlfmt.git", {tag, "v1.0.0"}}}
]}.

{erlfmt, [write]}.

{provider_hooks, [
    {pre, [{compile, fmt}]}
]}.

{alias, [
    {check, [
        {fmt, "--check"},
        xref,
        dialyzer
    ]},
    {test_ci, [
        {ct, "--spec test/conf/test-ci.spec --cover --readable true"}
    ]},
    {test, [
        {ct, "--spec test/conf/test.spec --cover --readable true"}
    ]}
]}.

{profiles, [
    {test, [
        {deps, [
            {nct_util, {git, "git@github.com:nomasystems/nct_util.git", {branch, "main"}}}
        ]}
    ]}
]}.

{cover_enabled, true}.

% Ignore xref warnings on public external exports
{xref_ignores, [
    {nintrospection, do, 3},
    {nintrospection, register_task, 3},
    {nintrospection, deregister_task, 2},
    {nintrospection, deregister_app_tasks, 1},
    {nintrospection, consult_tasks, 2},
    {nintrospection, consult_app_tasks, 1}
]}.
